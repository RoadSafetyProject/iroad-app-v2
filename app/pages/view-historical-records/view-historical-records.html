<!--
  Generated template for the ViewHistoricalRecordsPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar primary>
    <ion-title>{{ nameOfHistoricalRecords }}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content  class="view-historical-records">
  <div *ngIf="loadingData">
    <ion-card>
      <ion-card-content >
        <ion-list>
          <ion-item *ngFor="let message of loadingMessages; let currentIndex = index" >
            {{ message }}
            <ion-icon *ngIf="(currentIndex + 1) < loadingMessages.length" name="done-all" item-right></ion-icon>
            <div style="text-align: center" item-right *ngIf="(currentIndex + 1) >= loadingMessages.length">
              <ion-spinner name="crescent"></ion-spinner>
            </div>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>
  </div>

  <div *ngIf="!loadingData">
    <div *ngFor="let history of historicalRecords">
      <ion-card  *ngIf="history.dataValues.length>0">
        <ion-card-content >
            <div *ngFor="let dataValue of history.dataValues">
              <div *ngIf="dataElementToDataElementNameMapping[dataValue.dataElement]">
                <h2>{{ dataElementToDataElementNameMapping[dataValue.dataElement] }}</h2>
                <p>{{ dataValue.value }}</p>
                <hr>
              </div>

            </div>
        </ion-card-content>
      </ion-card>
    </div>
  </div>

</ion-content>
